- defaults:
    link:
        relink: true

- clean: ["~"]

- link:
    ~/.dotfiles: ""

shell:
    - bash ~/.dotfiles/scripts/pkg_install.sh

- sudo:
    - shell:
        - chsh -s $(which zsh) $(whoami)

- shell:
    - mkdir -p ~/.cache ~/.config ~/.local/bin ~/.local/share ~/.local/state

- shell:
    - mkdir -p ~/.config/zsh
    - bash ~/.dotfiles/scripts/setup_zsh.sh

- link:
    ~/.config/vim/vimrc: vim/vimrc
    ~/.config/zsh/.zshrc: zsh/.zshrc
    ~/.local/share/fonts/: 
        create: true
        glob: true
        path: fonts/*

- shell:
    - source ~/.config/zsh/.zshrc
    - [git submodule update --init --recursive, Installing submodules]
